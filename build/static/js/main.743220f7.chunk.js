(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{285:function(e,t,a){e.exports=a(593)},593:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(18),i=a.n(c),o=a(33),u=a(239),l=a(253),s=a(254),m=a(84),p=a.n(m),E=a(167),f="EVENT/API_ERROR_RECEIVED",h=a(109),d=p.a.mark(b),g=p.a.mark(v);function b(e){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.a)(h.toast.error,"Error Received: ".concat(e.error));case 2:case"end":return t.stop()}},d)}function v(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.b)(f,b);case 2:case"end":return e.stop()}},g)}var y,O=[v],j=Object(s.a)(O),w=a(30),M={temperatureinCelsius:null,temperatureinFahrenheit:null,description:"",locationName:""},N=Object(w.a)({},"EVENT/WEATHER_DATA_RECEIVED",function(e,t){var a,n=t.getWeatherForLocation,r=n.description,c=n.locationName,i=n.temperatureinCelsius;return{temperatureinCelsius:i,temperatureinFahrenheit:(a=i,9*a/5+32),description:r,locationName:c}}),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=N[t.type];return"undefined"===typeof a?e:a(e,t)},R=a(80),T={metrics:[],measurements:[]},C=(y={},Object(w.a)(y,"METRICS_DATA_RECEIVED",function(e,t){var a=t.getMetrics;return Object(R.a)({},e,{metrics:a})}),Object(w.a)(y,"MEASUREMENTS_DATA_RECEIVED",function(e,t){var a=t.getMultipleMeasurements;return Object(R.a)({},e,{measurements:a})}),y),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=C[t.type];return"undefined"===typeof a?e:a(e,t)},k=a(37),x=a(252),D=a(647),V=a(643),S=(a(306),a(638)),_=a(636),I=a(637),F=a(596),L=a(46),q=a(38),$=a(634),P=a(635),B=a(648),H=a(10),G=Object(H.a)(function(e){return{root:{background:e.palette.secondary.main},label:{color:e.palette.primary.main}}})(B.a),J=Object(q.b)({url:"https://react.eogresources.com/graphql"}),K=function(e){var t=e.weather;return{temperatureinFahrenheit:t.temperatureinFahrenheit,description:t.description,locationName:t.locationName}},Q=function(){return r.a.createElement(q.a,{value:J},r.a.createElement(U,null))},U=function(){var e=Object($.a)(),t={latitude:e.latitude||29.7604,longitude:e.longitude||-95.3698},a=Object(k.b)(),c=Object(k.c)(K),i=c.temperatureinFahrenheit,o=c.description,u=c.locationName,l=Object(q.c)({query:"\nquery($latLong: WeatherQuery!) {\n  getWeatherForLocation(latLong: $latLong) {\n    description\n    locationName\n    temperatureinCelsius\n  }\n}\n",variables:{latLong:t}}),s=Object(L.a)(l,1)[0],m=s.fetching,p=s.data,E=s.error;return Object(n.useEffect)(function(){if(E)a({type:f,error:E.message});else if(p){var e=p.getWeatherForLocation;a({type:"EVENT/WEATHER_DATA_RECEIVED",getWeatherForLocation:e})}},[a,p,E]),m?r.a.createElement(P.a,null):r.a.createElement(G,{label:"Weather in ".concat(u,": ").concat(o," and ").concat(i,"\xb0")})},z=Object(F.a)({grow:{flexGrow:1}}),X=function(){var e=z();return r.a.createElement(_.a,{position:"static"},r.a.createElement(I.a,null,r.a.createElement(S.a,{variant:"h6",color:"inherit",className:e.grow},"Nikunj's"," EOG React Visualization Assessment"),r.a.createElement(Q,null)))},Y=Object(F.a)(function(e){return{wrapper:{background:e.palette.background.main,height:"100vh"}}}),Z=function(e){var t=e.children,a=Y();return r.a.createElement("div",{className:a.wrapper},t)},ee=a(641),te=a(642),ae=a(639),ne=a(646),re=a(649),ce=a(645),ie=a(640),oe=a(644),ue=Object(F.a)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing(1),minWidth:800,maxWidth:800},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}}}),le={PaperProps:{style:{maxHeight:224,width:250}}};function se(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function me(e){var t=ue(),a=Object(ae.a)(),n=r.a.useState([]),c=Object(L.a)(n,2),i=c[0],o=c[1];return r.a.createElement("div",{className:t.root},r.a.createElement(ie.a,{className:t.formControl},r.a.createElement(re.a,{htmlFor:"select-multiple-chip"},"Select"),r.a.createElement(oe.a,{multiple:!0,value:i,onChange:function(t){o(t.target.value),e.onSelectChange(t.target.value)},input:r.a.createElement(ne.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map(function(e){return r.a.createElement(B.a,{key:e,label:e,className:t.chip})}))},MenuProps:le},e.names.map(function(e){return r.a.createElement(ce.a,{key:e,value:e,style:se(e,i,a)},e)}))))}var pe=a(48),Ee=a(87),fe=a.n(Ee),he=a(251),de=a.n(he),ge=function(){return"#".concat((16777216+16777215*Math.random()).toString(16).substr(1,6))};function be(e){var t=[];if(!e.measurements||!e.measurements.length)return r.a.createElement("div",null,"Select metric to load chart data");fe.a.forEach(e.measurements[0].measurements,function(a,n){var r=fe.a.map(e.measurements,"measurements"),c={};fe.a.forEach(r,function(e){var t;c=Object(R.a)({},c,e[n],(t={},Object(w.a)(t,e[n].metric,e[n].value),Object(w.a)(t,"atValue",de()(e[n].at).format("LT")),t))}),t.push(c)});var a=fe.a.sortBy(t,["at"]).filter(function(e){return e.value>=0});return r.a.createElement(pe.d,{width:1024,height:500,data:a,margin:{top:50,right:30,left:20,bottom:5}},r.a.createElement(pe.a,{strokeDasharray:"3 3"}),r.a.createElement(pe.f,{dataKey:"atValue"}),e.measurements.map(function(e,t){return r.a.createElement(pe.g,{yAxisId:t,key:t})}),r.a.createElement(pe.e,null),r.a.createElement(pe.b,null),e.measurements.map(function(e,t){return r.a.createElement(pe.c,{yAxisId:t,key:t,type:"monotone",dataKey:e.metric,dot:!1,stroke:ge()})}))}var ve=Object(F.a)({card:{margin:"1%"}}),ye=Object(q.b)({url:"https://react.eogresources.com/graphql"}),Oe=function(e){return{metrics:e.dashboard.metrics}},je=function(e){return{measurements:e.dashboard.measurements}},we=function(){return r.a.createElement(q.a,{value:ye},r.a.createElement(Me,null))},Me=function(){var e=ve(),t=r.a.useState([]),a=Object(L.a)(t,2),c=a[0],i=a[1],o=Object(k.b)(),u=Object(k.c)(Oe).metrics,l=Object(k.c)(je).measurements,s=Object(q.c)({query:"\n{\n  getMetrics\n}\n",variables:{}}),m=Object(L.a)(s,1)[0],p=(m.fetching,m.data),E=m.error,h=Object(q.c)({query:"\nquery($input: [MeasurementQuery]) {\n  getMultipleMeasurements(input: $input)  {\n    metric,\n    measurements{\n      at,\n      value,\n      metric,\n      unit\n    }\n  }\n}\n",variables:{input:c}}),d=Object(L.a)(h,1)[0];return Object(n.useEffect)(function(){if(E)o({type:f,error:E.message});else if(p){var e=p.getMetrics;o({type:"METRICS_DATA_RECEIVED",getMetrics:e})}},[o,p,E]),Object(n.useEffect)(function(){if(d.error)o({type:f,error:d.error.message});else if(d.data){var e=d.data.getMultipleMeasurements;o({type:"MEASUREMENTS_DATA_RECEIVED",getMultipleMeasurements:e})}},[d]),r.a.createElement(ee.a,{className:e.card},r.a.createElement(te.a,null,r.a.createElement(me,{names:u,onSelectChange:function(e){var t=e&&e.length?e.map(function(e){var t=new Date;return t.setMinutes(t.getMinutes()-30),{metricName:e,after:t.getTime()}}):[];i(t)}}),r.a.createElement(be,{measurements:l})))},Ne=function(){var e=Object(o.combineReducers)({weather:A,dashboard:W}),t=Object(u.composeWithDevTools)({}),a=Object(l.a)(),n=Object(o.applyMiddleware)(a),r=Object(o.createStore)(e,t(n));return j.forEach(a.run),r}(),Ae=Object(x.a)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{main:"rgb(226,231,238)"}}}),Re=function(e){return r.a.createElement(D.a,{theme:Ae},r.a.createElement(V.a,null),r.a.createElement(k.a,{store:Ne},r.a.createElement(Z,null,r.a.createElement(X,null),r.a.createElement(we,null),r.a.createElement(h.ToastContainer,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[285,1,2]]]);
//# sourceMappingURL=main.743220f7.chunk.js.map